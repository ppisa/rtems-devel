---
 c/src/lib/libbsp/arm/csb336/startup/memmap.c |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

Index: rtems/c/src/lib/libbsp/arm/csb336/startup/memmap.c
===================================================================
--- rtems.orig/c/src/lib/libbsp/arm/csb336/startup/memmap.c	2009-11-29 01:10:27.268556195 +0100
+++ rtems/c/src/lib/libbsp/arm/csb336/startup/memmap.c	2009-11-29 01:10:29.860557175 +0100
@@ -21,8 +21,12 @@
 /*  <phys addr>  <virt addr> <size> <flags> */
     {0x08200000, 0x00000000,   1,    MMU_CACHE_NONE},     /* Mirror of SDRAM */
     {0x00100000, 0x00100000,   1,    MMU_CACHE_NONE},     /* Bootstrap ROM */
-    {0x00200000, 0x00200000,   1,    MMU_CACHE_NONE},     /* Internal Regs */
+    {0x00200000, 0x00200000,   2,    MMU_CACHE_NONE},     /* Internal Regs + eSRAM */
+  #if 1
+    {0x08000000, 0x08000000,  32,    MMU_CACHE_WBACK},    /* SDRAM */
+  #else
     {0x08000000, 0x08000000,  32,    MMU_CACHE_WTHROUGH}, /* SDRAM */
+  #endif
     {0x10000000, 0x10000000,   8,    MMU_CACHE_NONE},     /* CS0 - Flash */
     {0x12000000, 0x12000000,   1,    MMU_CACHE_NONE},     /* CS1 - enet */
     {0x13000000, 0x13000000,   1,    MMU_CACHE_NONE},     /* CS2 - */
